import{B as w,D as C,G as _,L as y,M,N as x,O as v,P as S,Q as I,R as P,U as E,V as O,W as k,Y as N,Z as K,_ as L,ba as D,ca as T,e as g,f as c,h as f,k as n,l as a,p as m,v as l,w as p,x as h,y as b}from"./chunk-JYKJIDZY.js";import"./chunk-O5477KSU.js";import"./chunk-QUJFQN2Y.js";import"./chunk-YMX3R5SO.js";import"./chunk-JNBE4BS4.js";import"./chunk-J7PJVNYF.js";import"./chunk-7XMHA2TX.js";import"./chunk-EHBTZCM4.js";import"./chunk-XN55CHTH.js";import"./chunk-7FY2OE2O.js";import"./chunk-KUOO3K6H.js";import"./chunk-SVMIBA4S.js";import"./chunk-MTHZ7MWU.js";import"./chunk-WI5MSH4N.js";import"./chunk-CIMX53KL.js";import"./chunk-CKP3SGE2.js";import"./chunk-ALTV4TNM.js";import"./chunk-FFS2RZZI.js";import"./chunk-F3F7AKD5.js";import"./chunk-KB4JTWV6.js";import"./chunk-BZVKM6ND.js";import"./chunk-JU35B3CI.js";import"./chunk-KLXH7MMB.js";import"./chunk-WTCPO44B.js";import"./chunk-42C7ZIID.js";import{e as o}from"./chunk-JHI3MBHO.js";var G=(()=>{let s=class s{constructor(e,t,r){this.http=e,this.router=t,this.alertCtrl=r,this.username="",this.password=""}login(){return o(this,null,function*(){if(!this.username||!this.password){yield(yield this.alertCtrl.create({header:"Campos vac\xEDos",message:"Por favor ingresa usuario y contrase\xF1a.",buttons:["OK"]})).present();return}this.http.post("https://pulsense.onrender.com/login",{username:this.username,password:this.password}).subscribe({next:e=>o(this,null,function*(){e.success?this.router.navigate(["/dashboard"]):yield(yield this.alertCtrl.create({header:"Error",message:e.message||"Credenciales incorrectas",buttons:["OK"]})).present()}),error:e=>o(this,null,function*(){yield(yield this.alertCtrl.create({header:"Error de conexi\xF3n",message:e.error?.message||"Error al conectar con el servidor",buttons:["OK"]})).present()})})})}register(){return o(this,null,function*(){if(!this.username||!this.password){yield(yield this.alertCtrl.create({header:"Campos vac\xEDos",message:"Por favor ingresa usuario y contrase\xF1a.",buttons:["OK"]})).present();return}this.http.post("https://pulsense.onrender.com/register",{username:this.username,password:this.password}).subscribe({next:e=>o(this,null,function*(){e.success?(yield(yield this.alertCtrl.create({header:"\xC9xito",message:e.message||"Cuenta creada correctamente",buttons:["OK"]})).present(),this.router.navigate(["/login"])):yield(yield this.alertCtrl.create({header:"Error",message:e.message||"No se pudo registrar",buttons:["OK"]})).present()}),error:e=>o(this,null,function*(){yield(yield this.alertCtrl.create({header:"Error del servidor",message:e.error?.message||"Error al registrar usuario",buttons:["OK"]})).present()})})})}};s.\u0275fac=function(t){return new(t||s)(c(C),c(_),c(D))},s.\u0275cmp=f({type:s,selectors:[["app-login"]],decls:15,vars:2,consts:[[1,"ion-no-padding",2,"--background","#D9D9D9"],[1,"centro-login"],["novalidate","",1,"form-login",3,"ngSubmit"],[1,"input-item"],["position","floating"],["name","username","required","",3,"ngModelChange","ngModel"],["name","password","type","password","required","",3,"ngModelChange","ngModel"],["expand","block","type","submit",1,"login-button"],["expand","block","fill","clear",1,"register-button",3,"click"]],template:function(t,r){t&1&&(n(0,"ion-content",0)(1,"div",1)(2,"form",2),m("ngSubmit",function(){return r.login()}),n(3,"ion-item",3)(4,"ion-label",4),l(5,"Usuario"),a(),n(6,"ion-input",5),b("ngModelChange",function(i){return h(r.username,i)||(r.username=i),i}),a()(),n(7,"ion-item",3)(8,"ion-label",4),l(9,"Contrase\xF1a"),a(),n(10,"ion-input",6),b("ngModelChange",function(i){return h(r.password,i)||(r.password=i),i}),a()(),n(11,"ion-button",7),l(12," INICIAR SESI\xD3N "),a(),n(13,"ion-button",8),m("click",function(){return r.register()}),l(14,` Crear cuenta
`),a()()()()),t&2&&(g(6),p("ngModel",r.username),g(4),p("ngModel",r.password))},dependencies:[w,P,S,y,M,I,v,x,T,O,k,N,K,L,E],styles:[".centro-login[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100%;padding:16px}.form-login[_ngcontent-%COMP%]{width:100%;max-width:400px;padding:24px;background-color:#1797a6;border-radius:16px;box-shadow:0 8px 24px #0000001a}.input-item[_ngcontent-%COMP%]{--background: white;--color: black;--border-radius: 8px;margin-bottom:16px}ion-input[_ngcontent-%COMP%]::part(native){color:#000;padding:12px 8px}.login-button[_ngcontent-%COMP%]{--background: #3B82F6;--color: white;--border-radius: 8px;font-weight:700;letter-spacing:1px}.register-button[_ngcontent-%COMP%]{color:#f0f8ff;background-color:#3b82f6}"]});let d=s;return d})();export{G as LoginPage};
